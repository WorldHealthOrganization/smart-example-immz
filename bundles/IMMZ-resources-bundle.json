{
  "resourceType": "Bundle",
  "id": "IMMZ-resources",
  "type": "transaction",
  "entry": [ {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "SGVaccineRequest",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineRequest",
      "name": "SGVaccineRequest",
      "status": "draft",
      "description": "An order for an actual product",
      "fhirVersion": "4.0.1",
      "kind": "resource",
      "abstract": false,
      "type": "MedicationRequest",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/MedicationRequest",
      "derivation": "constraint",
      "differential": {
        "element": [ {
          "id": "MedicationRequest.intent",
          "path": "MedicationRequest.intent",
          "patternCode": "instance-order"
        }, {
          "id": "MedicationRequest.medication[x]",
          "path": "MedicationRequest.medication[x]",
          "type": [ {
            "code": "Reference",
            "targetProfile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct" ]
          } ]
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/SGVaccineRequest"
    }
  }, {
    "resource": {
      "resourceType": "Medication",
      "id": "Vaccine-SIIMeasles",
      "meta": {
        "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct" ]
      },
      "extension": [ {
        "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGMedicationClassification",
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://id.who.int/icd/release/11/mms",
            "code": "XM8L15"
          } ]
        }
      } ],
      "code": {
        "coding": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/VaccineProducts",
          "code": "20009060/2"
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "Medication/Vaccine-SIIMeasles"
    }
  }, {
    "resource": {
      "resourceType": "ActivityDefinition",
      "id": "IMMZD2DTMeaslesCIMR",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-immunizationactivity" ]
      },
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/ActivityDefinition/IMMZD2DTMeaslesCIMR",
      "version": "0.1.0",
      "name": "IMMZD2DTMeaslesContraindication",
      "title": "IMMZ.D2.DT.Measles.Contraindication",
      "status": "draft",
      "experimental": false,
      "date": "2023-10-03",
      "publisher": "World Health Organization (WHO)",
      "contact": [ {
        "telecom": [ {
          "system": "url",
          "value": "https://who.int"
        } ]
      } ],
      "description": "Provide measles immunization",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZD2DTMeaslesLogic" ],
      "kind": "MedicationRequest",
      "profile": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-immunizationrequest",
      "intent": "proposal",
      "doNotPerform": true,
      "productCodeableConcept": {
        "coding": [ {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "XM28X5",
          "display": "Measles vaccines"
        } ]
      },
      "dynamicValue": [ {
        "path": "id",
        "expression": {
          "description": "Draft Medication Request ID for MCV dose",
          "language": "text/cql-identifier",
          "expression": "Draft Medication Request ID for MCV dose"
        }
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ActivityDefinition/IMMZD2DTMeaslesCIMR"
    }
  }, {
    "resource": {
      "resourceType": "ConceptMap",
      "id": "IMMZD1ConceptMap",
      "url": "http://smart.who.int/immunizations-measles/ConceptMap/IMMZD1ConceptMap",
      "name": "IMMZ_D1_ConceptMap",
      "title": "ConceptMap to and from IMMZ.D1 DataElements",
      "status": "active",
      "experimental": false,
      "date": "2023-08-09",
      "description": "Mapping to and from IMMZ.D1 Data Dictionary to other codesystems.",
      "group": [ {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
        "target": "http://id.who.int/icd/release/11/mms",
        "element": [ {
          "code": "DE11",
          "target": [ {
            "code": "1C62.Z",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        }, {
          "code": "DE12",
          "target": [ {
            "code": "QA02.Y",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE15",
          "target": [ {
            "code": "KA21.4",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://id.who.int/icd/release/11/mms",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
        "element": [ {
          "code": "1C62.Z",
          "target": [ {
            "code": "DE11",
            "equivalence": "wider"
          } ]
        }, {
          "code": "QA02.Y",
          "target": [ {
            "code": "DE12",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "KA21.4",
          "target": [ {
            "code": "DE15",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
        "target": "http://loinc.org",
        "element": [ {
          "code": "DE11",
          "target": [ {
            "code": "45683-0",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE10",
          "target": [ {
            "code": "55277-8",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE92",
          "target": [ {
            "code": "96381-9",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE15",
          "target": [ {
            "code": "76517-2",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE19",
          "target": [ {
            "code": "39236-5",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE20",
          "target": [ {
            "code": "30952-6",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://loinc.org",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
        "element": [ {
          "code": "45683-0",
          "target": [ {
            "code": "DE11",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "55277-8",
          "target": [ {
            "code": "DE10",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "96381-9",
          "target": [ {
            "code": "DE92",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "76517-2",
          "target": [ {
            "code": "DE15",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "39236-5",
          "target": [ {
            "code": "DE19",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "30952-6",
          "target": [ {
            "code": "DE20",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
        "target": "http://snomed.info/sct",
        "element": [ {
          "code": "DE12",
          "target": [ {
            "code": "165815009",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE11",
          "target": [ {
            "code": "165816005",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE13",
          "target": [ {
            "code": "261665006",
            "equivalence": "wider"
          } ]
        }, {
          "code": "DE10",
          "target": [ {
            "code": "278977008",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE15",
          "target": [ {
            "code": "395507008",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://snomed.info/sct",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
        "element": [ {
          "code": "165815009",
          "target": [ {
            "code": "DE12",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "165816005",
          "target": [ {
            "code": "DE11",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "261665006",
          "target": [ {
            "code": "DE13",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        }, {
          "code": "278977008",
          "target": [ {
            "code": "DE10",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "395507008",
          "target": [ {
            "code": "DE15",
            "equivalence": "equivalent"
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ConceptMap/IMMZD1ConceptMap"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "SGMedicationClassification",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGMedicationClassification",
      "name": "SGMedicationClassification",
      "status": "draft",
      "description": "Medication Classification.",
      "fhirVersion": "4.0.1",
      "kind": "complex-type",
      "abstract": false,
      "context": [ {
        "type": "element",
        "expression": "Medication"
      } ],
      "type": "Extension",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Extension",
      "derivation": "constraint",
      "differential": {
        "element": [ {
          "id": "Extension",
          "path": "Extension",
          "definition": "Medication Classification."
        }, {
          "id": "Extension.extension",
          "path": "Extension.extension",
          "max": "0"
        }, {
          "id": "Extension.url",
          "path": "Extension.url",
          "fixedUri": "http://smart.who.int/immunizations-measles/StructureDefinition/SGMedicationClassification"
        }, {
          "id": "Extension.value[x]",
          "path": "Extension.value[x]",
          "type": [ {
            "code": "CodeableConcept"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/VaccineTypes"
          }
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/SGMedicationClassification"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "IMMZD4CheckContraindicationsMeasles",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZD4CheckContraindicationsMeasles",
      "name": "IMMZ_D4_Check_Contraindications_Measles",
      "title": "IMMZ.D4 Check Contraindications for Measles",
      "status": "draft",
      "description": "Data elements for the IMMZ.D4 Check Contraindications Data Dictionary for Measles.",
      "fhirVersion": "4.0.1",
      "kind": "logical",
      "abstract": false,
      "type": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZD4CheckContraindicationsMeasles",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Base",
      "derivation": "specialization",
      "differential": {
        "element": [ {
          "id": "IMMZD4CheckContraindicationsMeasles",
          "path": "IMMZD4CheckContraindicationsMeasles",
          "short": "IMMZ.D4 Check Contraindications for Measles",
          "definition": "Data elements for the IMMZ.D4 Check Contraindications Data Dictionary for Measles."
        }, {
          "id": "IMMZD4CheckContraindicationsMeasles.patient",
          "path": "IMMZD4CheckContraindicationsMeasles.patient",
          "short": "Patient",
          "definition": "The patient who is being checked for contraindications.",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "Reference"
          } ]
        }, {
          "id": "IMMZD4CheckContraindicationsMeasles.contraindications",
          "path": "IMMZD4CheckContraindicationsMeasles.contraindications",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE161"
          } ],
          "short": "Potential contraindications",
          "definition": "Specific situations or medical conditions in which it is advised or recommended to avoid or delay administering a particular vaccine.",
          "min": 0,
          "max": "*",
          "type": [ {
            "code": "Coding"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.D4.DE161"
          }
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/IMMZD4CheckContraindicationsMeasles"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D4.QuestionnaireResponse.1",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZD4CheckContraindicationsMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P123456"
      },
      "authored": "2023-10-11",
      "item": [ {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE162",
            "display": "Currently pregnant"
          }
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.1"
    }
  }, {
    "resource": {
      "resourceType": "Library",
      "id": "FHIRHelpers",
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/Library/FHIRHelpers",
      "version": "0.1.0",
      "name": "FHIRHelpers",
      "title": "FHIRHelpers",
      "status": "draft",
      "experimental": false,
      "type": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/library-type",
          "code": "logic-library"
        } ]
      },
      "publisher": "World Health Organization (WHO)",
      "description": "This library defines functions to convert between FHIR data types and CQL system-defined types, as well as functions to support FHIRPath implementation. For more information, the FHIRHelpers wiki page: https://github.com/cqframework/clinical_quality_language/wiki/FHIRHelpers",
      "content": [ {
        "id": "ig-loader-FHIRHelpers.cql"
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Library/FHIRHelpers"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "sg-ext-administeredProduct",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/sg-ext-administeredProduct",
      "name": "SGIMMAdministeredProduct",
      "title": "SGAdministeredProduct",
      "status": "draft",
      "description": "The product administered",
      "fhirVersion": "4.0.1",
      "kind": "complex-type",
      "abstract": false,
      "context": [ {
        "type": "element",
        "expression": "Element"
      } ],
      "type": "Extension",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Extension",
      "derivation": "constraint",
      "differential": {
        "element": [ {
          "id": "Extension",
          "path": "Extension",
          "short": "SGAdministeredProduct",
          "definition": "The product administered"
        }, {
          "id": "Extension.extension",
          "path": "Extension.extension",
          "max": "0"
        }, {
          "id": "Extension.url",
          "path": "Extension.url",
          "fixedUri": "http://smart.who.int/immunizations-measles/StructureDefinition/sg-ext-administeredProduct"
        }, {
          "id": "Extension.value[x]",
          "path": "Extension.value[x]",
          "type": [ {
            "code": "CodeableConcept"
          }, {
            "code": "Reference",
            "targetProfile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct" ]
          } ]
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/sg-ext-administeredProduct"
    }
  }, {
    "resource": {
      "resourceType": "PlanDefinition",
      "id": "IMMZD2DTMeasles",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-recommendationdefinition" ]
      },
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/PlanDefinition/IMMZD2DTMeasles",
      "version": "0.1.0",
      "name": "IMMZD2DTMeasles",
      "title": "IMMZ.D2.DT.Measles",
      "type": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
          "code": "eca-rule"
        } ]
      },
      "status": "draft",
      "experimental": false,
      "publisher": "World Health Organization (WHO)",
      "description": "If the child or patient has not been given MCV1 (at 9 months) and MCV2 (between 15-18 months) vaccination",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZD2DTMeaslesLogic" ],
      "action": [ {
        "title": "Immunize patient for Measles",
        "description": "Provide measles immunization",
        "condition": [ {
          "kind": "applicability",
          "expression": {
            "description": "Provision of the MCV dose",
            "language": "text/cql-identifier",
            "expression": "Provision of the MCV dose"
          }
        } ],
        "definitionCanonical": "http://smart.who.int/immunizations-measles/ActivityDefinition/IMMZD2DTMeaslesMR"
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "PlanDefinition/IMMZD2DTMeasles"
    }
  }, {
    "resource": {
      "resourceType": "Measure",
      "id": "IMMZIND05",
      "meta": {
        "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cv-measure-cqfm" ]
      },
      "url": "http://smart.who.int/immunizations-measles/Measure/IMMZIND05",
      "version": "0.1.0",
      "name": "IMMZIND05",
      "status": "draft",
      "experimental": false,
      "date": "2023-10-05",
      "publisher": "World Health Organization (WHO)",
      "description": "IMMZ.IND.05 Measles indicator for first dose.",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZINDMeasles" ],
      "scoring": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
          "code": "continuous-variable",
          "display": "Continuous Variable"
        } ]
      },
      "group": [ {
        "population": [ {
          "id": "IMMZ.IND.05.IP",
          "extension": [ {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "boolean"
          } ],
          "code": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/measure-population",
              "code": "initial-population",
              "display": "Initial Population"
            } ]
          },
          "description": "Initial Population",
          "criteria": {
            "language": "text/cql",
            "expression": "Initial Population 05"
          }
        }, {
          "id": "IMMZ.IND.05.MP",
          "extension": [ {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "boolean"
          } ],
          "code": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/measure-population",
              "code": "measure-population",
              "display": "Measure Population"
            } ]
          },
          "description": "Measure Population",
          "criteria": {
            "language": "text/cql",
            "expression": "Measure Population 05"
          }
        }, {
          "id": "IMMZ.IND.05.MO",
          "extension": [ {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-criteriaReference",
            "valueString": "measure-population"
          }, {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-aggregateMethod",
            "valueCode": "count"
          } ],
          "code": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/measure-population",
              "code": "measure-observation"
            } ]
          },
          "description": "Measure Observation",
          "criteria": {
            "language": "text/cql",
            "expression": "Measure Observation 05"
          }
        } ],
        "stratifier": [ {
          "id": "IMMZ.IND.05.S",
          "criteria": {
            "language": "text/cql",
            "expression": "Stratification"
          }
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Measure/IMMZIND05"
    }
  }, {
    "resource": {
      "resourceType": "Patient",
      "id": "P123456",
      "identifier": [ {
        "value": "123456"
      } ],
      "name": [ {
        "text": "Test Patient",
        "family": "Patient",
        "given": [ "Test" ]
      } ],
      "gender": "female",
      "birthDate": "2023-03-02"
    },
    "request": {
      "method": "PUT",
      "url": "Patient/P123456"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "IMMZD1ClientHistoryMeasles",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZD1ClientHistoryMeasles",
      "name": "IMMZ_D1_Client_History_Measles",
      "title": "IMMZ.D1 Capture Client History for Measles",
      "status": "draft",
      "description": "Data elements for the IMMZ.D1 Capture Client History Data Dictionary for Measles.",
      "fhirVersion": "4.0.1",
      "kind": "logical",
      "abstract": false,
      "type": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZD1ClientHistoryMeasles",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Base",
      "derivation": "specialization",
      "differential": {
        "element": [ {
          "id": "IMMZD1ClientHistoryMeasles",
          "path": "IMMZD1ClientHistoryMeasles",
          "short": "IMMZ.D1 Capture Client History for Measles",
          "definition": "Data elements for the IMMZ.D1 Capture Client History Data Dictionary for Measles."
        }, {
          "id": "IMMZD1ClientHistoryMeasles.patient",
          "path": "IMMZD1ClientHistoryMeasles.patient",
          "short": "Patient",
          "definition": "The patient who is being checked for contraindications.",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "Reference"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.dose0",
          "path": "IMMZD1ClientHistoryMeasles.dose0",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE80"
          } ],
          "short": "Dose 0 administered",
          "definition": "Indicates if the client has received a birth dose and/or supplementary dose",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "boolean"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.completedPrimarySeries",
          "path": "IMMZD1ClientHistoryMeasles.completedPrimarySeries",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE8"
          } ],
          "short": "Completed the primary vaccination series",
          "definition": "Indicates if the client has completed the primary vaccination series of a product/antigen. If the client has not yet completed their primary series, it means they may be expected to receive more doses to complete their vaccination regimen for the respective product/antigen.",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "boolean"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.dateSeriesCompleted",
          "path": "IMMZD1ClientHistoryMeasles.dateSeriesCompleted",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE81"
          } ],
          "short": "Date when primary vaccination series was completed",
          "definition": "The date when the client completed the primary vaccination series (per product/antigen)",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "date"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.hivStatus",
          "path": "IMMZD1ClientHistoryMeasles.hivStatus",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE10"
          } ],
          "short": "HIV status",
          "definition": "The current human immunodeficiency virus (HIV) status of the client",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "Coding"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.D1.DE10"
          }
        }, {
          "id": "IMMZD1ClientHistoryMeasles.pretermBirth",
          "path": "IMMZD1ClientHistoryMeasles.pretermBirth",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE15"
          } ],
          "short": "Preterm birth",
          "definition": "The infant was preterm, the mother gave birth to the infant when gestational age was less than 37 weeks",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "boolean"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.severelyImmunosuppressed",
          "path": "IMMZD1ClientHistoryMeasles.severelyImmunosuppressed",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE92"
          } ],
          "short": "Severely immunosuppressed",
          "definition": "The client is known to be severely immunocompromised or immunosuppressed",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "boolean"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.artStartDate",
          "path": "IMMZD1ClientHistoryMeasles.artStartDate",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE49"
          } ],
          "short": "ART start date",
          "definition": "The date on which the client started or restarted antiretroviral therapy (ART)",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "date"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.vaccineHistory",
          "path": "IMMZD1ClientHistoryMeasles.vaccineHistory",
          "short": "Vaccine History",
          "definition": "History of previous vaccine doses.",
          "min": 0,
          "max": "*",
          "type": [ {
            "code": "BackboneElement"
          } ]
        }, {
          "id": "IMMZD1ClientHistoryMeasles.vaccineHistory.vaccineType",
          "path": "IMMZD1ClientHistoryMeasles.vaccineHistory.vaccineType",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE19"
          } ],
          "short": "Vaccine type",
          "definition": "Vaccine type/category that was administered or was to be administered. Any vaccine code available in the IMMZ.Z Vaccine Library list of codes applies in this data element",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "Coding"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.Z.DE9"
          }
        }, {
          "id": "IMMZD1ClientHistoryMeasles.vaccineHistory.vaccineDate",
          "path": "IMMZD1ClientHistoryMeasles.vaccineHistory.vaccineDate",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE20"
          } ],
          "short": "Date and time of vaccination",
          "definition": "Represents the visit/encounter date, which is the date and time when the vaccine was administered to the client",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "date"
          } ]
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/IMMZD1ClientHistoryMeasles"
    }
  }, {
    "resource": {
      "resourceType": "Immunization",
      "id": "Immunization1b",
      "meta": {
        "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization" ]
      },
      "extension": [ {
        "url": "http://smart.who.int/immunizations-measles/StructureDefinition/sg-ext-administeredProduct",
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/VaccineProducts",
            "code": "20009060/2"
          } ]
        }
      } ],
      "status": "completed",
      "vaccineCode": {
        "coding": [ {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "XM4AJ8",
          "display": "Measles, combinations with mumps, rubella and varicella, live attenuated"
        } ]
      },
      "patient": {
        "reference": "Patient/P654321"
      },
      "occurrenceDateTime": "2024-01-02T00:00:00.000Z",
      "recorded": "2024-01-02T00:00:00.000Z",
      "primarySource": true,
      "lotNumber": "lot124",
      "expirationDate": "2024-10-01"
    },
    "request": {
      "method": "PUT",
      "url": "Immunization/Immunization1b"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D1.QuestionnaireResponse.1",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/IMMZD1ClientHistoryMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P123456"
      },
      "authored": "2023-10-18T19:20:20.913Z",
      "item": [ {
        "linkId": "dose0",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "completedPrimarySeries",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "hivStatus",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE12"
          }
        } ]
      }, {
        "linkId": "pretermBirth",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "severelyImmunosuppressed",
        "answer": [ {
          "valueBoolean": false
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D1.QuestionnaireResponse.1"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "SGImmunization",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization",
      "name": "SGImmunization",
      "status": "draft",
      "description": "A record of an immunization, with a given product",
      "fhirVersion": "4.0.1",
      "kind": "resource",
      "abstract": false,
      "type": "Immunization",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Immunization",
      "derivation": "constraint",
      "differential": {
        "element": [ {
          "id": "Immunization.extension",
          "path": "Immunization.extension",
          "slicing": {
            "discriminator": [ {
              "type": "value",
              "path": "url"
            } ],
            "ordered": false,
            "rules": "open"
          }
        }, {
          "id": "Immunization.extension:administeredProduct",
          "path": "Immunization.extension",
          "sliceName": "administeredProduct",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "Extension",
            "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/sg-ext-administeredProduct" ]
          } ]
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/SGImmunization"
    }
  }, {
    "resource": {
      "resourceType": "ActivityDefinition",
      "id": "IMMZD2DTMeaslesMR",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-immunizationactivity" ]
      },
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/ActivityDefinition/IMMZD2DTMeaslesMR",
      "version": "0.1.0",
      "name": "IMMZD2DTMeaslesMedicationRequest",
      "title": "IMMZ.D2.DT.Measles.MR",
      "status": "draft",
      "experimental": false,
      "date": "2023-10-03",
      "publisher": "World Health Organization (WHO)",
      "contact": [ {
        "telecom": [ {
          "system": "url",
          "value": "https://who.int"
        } ]
      } ],
      "description": "Provide measles immunization",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZD2DTMeaslesLogic" ],
      "kind": "MedicationRequest",
      "profile": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-immunizationrequest",
      "intent": "proposal",
      "doNotPerform": false,
      "productCodeableConcept": {
        "coding": [ {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "XM28X5",
          "display": "Measles vaccines"
        } ]
      },
      "dynamicValue": [ {
        "path": "status",
        "expression": {
          "language": "text/cql",
          "expression": "'draft'"
        }
      }, {
        "path": "intent",
        "expression": {
          "language": "text/cql",
          "expression": "'proposal'"
        }
      }, {
        "path": "dispenseRequest.validityPeriod.start",
        "expression": {
          "description": "Due date of the dose",
          "language": "text/cql-identifier",
          "expression": "Schedule Due Date for MCV dose"
        }
      }, {
        "path": "dispenseRequest.validityPeriod.end",
        "expression": {
          "description": "Expiration date for MCV dose",
          "language": "text/cql-identifier",
          "expression": "Expiration Date for MCV dose"
        }
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ActivityDefinition/IMMZD2DTMeaslesMR"
    }
  }, {
    "resource": {
      "resourceType": "Questionnaire",
      "id": "IMMZD1ClientHistoryMeasles",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-extr-smap" ]
      },
      "language": "en",
      "contained": [ {
        "resourceType": "ValueSet",
        "id": "IMMZ.D1.DE10",
        "url": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.D1.DE10",
        "name": "IMMZ_D1_DE10",
        "title": "IMMZ.D1.DE10 ValueSet for HIV Status",
        "status": "active",
        "experimental": false,
        "description": "ValueSet for HIV Status for IMMZ.D1.DE10.",
        "compose": {
          "include": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "concept": [ {
              "code": "DE11",
              "display": "HIV-positive"
            }, {
              "code": "DE12",
              "display": "HIV-negative"
            }, {
              "code": "DE13",
              "display": "Unknown"
            } ]
          } ]
        }
      } ],
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-targetStructureMap",
        "valueCanonical": "http://smart.who.int/immunizations-measles/StructureMap/IMMZD1QRToResources"
      } ],
      "url": "http://smart.who.int/immunizations-measles/Questionnaire/IMMZD1ClientHistoryMeasles",
      "version": "2023",
      "title": "Capture Client History Questionnaire",
      "status": "draft",
      "subjectType": [ "Patient" ],
      "description": "Immunization - Capture Client History Questionnaire",
      "item": [ {
        "linkId": "dose0",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE80"
        } ],
        "text": "Indicates if the client has received a supplementary dose",
        "type": "boolean",
        "required": false,
        "repeats": false
      }, {
        "linkId": "completedPrimarySeries",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE8"
        } ],
        "text": "Indicates if the client has completed the primary vaccination series of a product/antigen. If the client has not yet completed their primary series, it means they may be expected to receive more doses to complete their vaccination regimen for the respective product/antigen.",
        "type": "boolean",
        "required": false,
        "repeats": false
      }, {
        "linkId": "dateSeriesCompleted",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE81"
        } ],
        "text": "The date when the client completed the primary vaccination series - per product/antigen",
        "type": "date",
        "required": false,
        "repeats": true
      }, {
        "linkId": "hivStatus",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE10"
        }, {
          "system": "http://loinc.org",
          "code": "55277-8"
        }, {
          "system": "http://snomed.info/sct",
          "code": "278977008"
        } ],
        "text": "The current human immunodeficiency virus HIV status of the client",
        "type": "choice",
        "required": false,
        "repeats": false,
        "answerValueSet": "#IMMZ.D1.DE10"
      }, {
        "linkId": "pretermBirth",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE15"
        }, {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "KA21.4"
        }, {
          "system": "http://loinc.org",
          "code": "76517-2"
        }, {
          "system": "http://snomed.info/sct",
          "code": "395507008"
        } ],
        "text": "The infant was preterm; the mother gave birth to the infant when gestational age was less than 37 weeks",
        "type": "boolean",
        "required": false,
        "repeats": false
      }, {
        "linkId": "severelyImmunosuppressed",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE92"
        }, {
          "system": "http://loinc.org",
          "code": "96381-9"
        } ],
        "text": "The client is known to be severely immunosuppressed",
        "type": "boolean",
        "required": false,
        "repeats": true
      }, {
        "linkId": "artStartDate",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
          "code": "DE49"
        } ],
        "text": "The date on which the client started or restarted antiretroviral therapy ART",
        "type": "date",
        "required": false,
        "repeats": true
      }, {
        "linkId": "vaccineHistory",
        "text": "Vaccine History",
        "type": "group",
        "required": false,
        "repeats": true,
        "item": [ {
          "linkId": "vaccineType",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE19"
          }, {
            "system": "http://loinc.org",
            "code": "39236-5"
          }, {
            "system": "http://snomed.info/sct",
            "code": "787859002"
          } ],
          "text": "Vaccine type/category that was administered or was to be administered. Any vaccine code available in the IMMZ.Z Vaccine Library list of codes applies in this data element",
          "type": "choice",
          "required": true,
          "repeats": false,
          "answerValueSet": "#IMMZ.Z.DE9"
        }, {
          "linkId": "vaccineDate",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE20"
          }, {
            "system": "http://loinc.org",
            "code": "30952-6"
          } ],
          "text": "Represents the visit/encounter date, which is the date and time when the vaccine was administered to the client",
          "type": "date",
          "required": true,
          "repeats": false
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Questionnaire/IMMZD1ClientHistoryMeasles"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "IMMZCRegisterClient",
      "extension": [ {
        "url": "http://hl7.org/fhir/tools/StructureDefinition/logical-target",
        "valueBoolean": true
      } ],
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZCRegisterClient",
      "name": "IMMZCRegisterClient",
      "title": "IMMZ.C Register Client",
      "status": "active",
      "description": "Data elements for the IMMZ.C Register Client Data Dictionary.",
      "fhirVersion": "4.0.1",
      "kind": "logical",
      "abstract": false,
      "type": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZCRegisterClient",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Base",
      "derivation": "specialization",
      "differential": {
        "element": [ {
          "id": "IMMZCRegisterClient",
          "path": "IMMZCRegisterClient",
          "short": "IMMZ.C Register Client",
          "definition": "Data elements for the IMMZ.C Register Client Data Dictionary."
        }, {
          "id": "IMMZCRegisterClient.uniqueId",
          "path": "IMMZCRegisterClient.uniqueId",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE1"
          } ],
          "short": "Unique identifier",
          "definition": "Unique identifier for the client, according to the policies applicable to each country. There can be more than one unique identifier used to link records (e.g. national ID, health ID, immunization information system ID, medical record ID).",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "string"
          } ],
          "isSummary": true
        }, {
          "id": "IMMZCRegisterClient.name",
          "path": "IMMZCRegisterClient.name",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE2"
          } ],
          "short": "Name",
          "definition": "The full name of the client",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "string"
          } ],
          "constraint": [ {
            "key": "IMMZ-C-name-1",
            "severity": "error",
            "human": "Only letters and special characters (period, dash) allowed.",
            "expression": "$this.matches('[A-Za-z-.]*')",
            "source": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZCRegisterClient"
          } ]
        }, {
          "id": "IMMZCRegisterClient.sex",
          "path": "IMMZCRegisterClient.sex",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE5"
          } ],
          "short": "Sex",
          "definition": "Documentation of a specific instance of sex information for the client",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "code"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.C.DE5"
          }
        }, {
          "id": "IMMZCRegisterClient.birthDate",
          "path": "IMMZCRegisterClient.birthDate",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE10"
          } ],
          "short": "Date of birth",
          "definition": "Client's date of birth (DOB) if known; if unknown, use assigned DOB for administrative purposes",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "date"
          } ]
        }, {
          "id": "IMMZCRegisterClient.caregiver",
          "path": "IMMZCRegisterClient.caregiver",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE14"
          } ],
          "short": "Caregiver",
          "definition": "The client's caregiver (person) which could be next of kin (e.g. partner, husband, mother, sibling, etc.)",
          "min": 0,
          "max": "*",
          "type": [ {
            "code": "BackboneElement"
          } ]
        }, {
          "id": "IMMZCRegisterClient.caregiver.name",
          "path": "IMMZCRegisterClient.caregiver.name",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE15"
          } ],
          "short": "Caregiver's full name",
          "definition": "The full name of the client's caregiver",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "string"
          } ],
          "constraint": [ {
            "key": "IMMZ-C-name-1",
            "severity": "error",
            "human": "Only letters and special characters (period, dash) allowed.",
            "expression": "$this.matches('[A-Za-z-.]*')",
            "source": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZCRegisterClient"
          } ]
        }, {
          "id": "IMMZCRegisterClient.caregiver.firstName",
          "path": "IMMZCRegisterClient.caregiver.firstName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE16"
          } ],
          "short": "Caregiver's first name",
          "definition": "First or given name of the client's caregiver",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ],
          "constraint": [ {
            "key": "IMMZ-C-name-1",
            "severity": "error",
            "human": "Only letters and special characters (period, dash) allowed.",
            "expression": "$this.matches('[A-Za-z-.]*')",
            "source": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZCRegisterClient"
          } ]
        }, {
          "id": "IMMZCRegisterClient.caregiver.familyName",
          "path": "IMMZCRegisterClient.caregiver.familyName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE17"
          } ],
          "short": "Caregiver's family name",
          "definition": "Family name or last name of the client's caregiver",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ],
          "constraint": [ {
            "key": "IMMZ-C-name-1",
            "severity": "error",
            "human": "Only letters and special characters (period, dash) allowed.",
            "expression": "$this.matches('[A-Za-z-.]*')",
            "source": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZCRegisterClient"
          } ]
        }, {
          "id": "IMMZCRegisterClient.phone",
          "path": "IMMZCRegisterClient.phone",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE18"
          } ],
          "short": "Contact phone number",
          "definition": "Client's phone number",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZCRegisterClient.administrativeArea",
          "path": "IMMZCRegisterClient.administrativeArea",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE19"
          } ],
          "short": "Administrative area",
          "definition": "The name of the city/municipality/town/village of where the client lives",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "CodeableConcept"
          } ]
        }, {
          "id": "IMMZCRegisterClient.healthWorker",
          "path": "IMMZCRegisterClient.healthWorker",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE20"
          } ],
          "short": "Active health worker",
          "definition": "Is the client an active and participating health worker. This data element is used mainly for reporting and indicators purposes.",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "boolean"
          } ]
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/IMMZCRegisterClient"
    }
  }, {
    "resource": {
      "resourceType": "PlanDefinition",
      "id": "IMMZD2DTMeaslesCI",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-recommendationdefinition" ]
      },
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/PlanDefinition/IMMZD2DTMeaslesCI",
      "version": "0.1.0",
      "name": "IMMZD2DTMeaslesContraindication",
      "title": "IMMZ.D2.DT.Measles.Contraindication",
      "type": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
          "code": "eca-rule"
        } ]
      },
      "status": "draft",
      "experimental": false,
      "publisher": "World Health Organization (WHO)",
      "description": "Check contraindications for Measles vaccine",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZD2DTMeaslesLogic" ],
      "action": [ {
        "title": "Check Contraindication for Measles Immunization",
        "description": "Contraindication for measles immunization",
        "condition": [ {
          "kind": "applicability",
          "expression": {
            "description": "MCV Dose Contraindicated",
            "language": "text/cql-identifier",
            "expression": "MCV Dose Contraindicated"
          }
        } ],
        "type": {
          "coding": [ {
            "system": "http://terminology.hl7.org/CodeSystem/action-type",
            "code": "update"
          } ]
        },
        "definitionCanonical": "http://smart.who.int/immunizations-measles/ActivityDefinition/IMMZD2DTMeaslesCIMR"
      }, {
        "title": "Evaluate Contraindication for Measles",
        "description": "Provide further evaluation for measles contraindication",
        "condition": [ {
          "kind": "applicability",
          "expression": {
            "description": "Contraindication Evaluation of the MCV dose",
            "language": "text/cql-identifier",
            "expression": "Contraindication Evaluation of the MCV dose"
          }
        } ],
        "definitionCanonical": "http://smart.who.int/immunizations-measles/ActivityDefinition/IMMZD2DTMeaslesEval"
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "PlanDefinition/IMMZD2DTMeaslesCI"
    }
  }, {
    "resource": {
      "resourceType": "ImplementationGuide",
      "id": "smart.who.int.immunizations-measles",
      "meta": {
        "profile": [ "http://smart.who.int/smart-base/ImplementationGuide-SGImplementationGuide" ]
      },
      "url": "http://smart.who.int/immunizations-measles/ImplementationGuide/smart.who.int.immunizations-measles",
      "version": "0.1.0",
      "name": "SMART",
      "title": "WHO SMART Guidelines - Measles Immunization",
      "status": "draft",
      "publisher": "WHO",
      "contact": [ {
        "name": "WHO",
        "telecom": [ {
          "system": "url",
          "value": "http://who.int"
        } ]
      } ],
      "description": "WHO SMART Guidelines - Measles Immunization (Demonstration specification)",
      "packageId": "smart.who.int.immunizations-measles",
      "license": "CC-BY-SA-3.0",
      "fhirVersion": [ "4.0.1" ],
      "dependsOn": [ {
        "id": "who_base",
        "uri": "http://smart.who.int/base/ImplementationGuide/who.base",
        "packageId": "who.base",
        "version": "dev"
      }, {
        "id": "hl7_fhir_uv_sdc",
        "uri": "http://hl7.org/fhir/uv/sdc/ImplementationGuide/hl7.fhir.uv.sdc",
        "packageId": "hl7.fhir.uv.sdc",
        "version": "3.0.0"
      }, {
        "id": "hl7_fhir_uv_cpg",
        "uri": "http://hl7.org/fhir/uv/cpg/ImplementationGuide/hl7.fhir.uv.cpg",
        "packageId": "hl7.fhir.uv.cpg",
        "version": "current"
      }, {
        "id": "hl7_fhir_us_cqfmeasures",
        "uri": "http://hl7.org/fhir/us/cqfmeasures/ImplementationGuide/hl7.fhir.us.cqfmeasures",
        "packageId": "hl7.fhir.us.cqfmeasures",
        "version": "current"
      } ],
      "definition": {
        "resource": [ {
          "reference": {
            "reference": "Questionnaire/AdministerVaccine"
          },
          "name": "Administer Vaccine",
          "description": "Questionnaire for registering the events leading to and including the administration of a vaccine",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/ARVDrugs-values"
          },
          "name": "ARV Drugs values",
          "description": "Codes representing ARV Drugs values",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/Birthweight-values"
          },
          "name": "Birthweight valueset",
          "description": "Codes representing Birthweight values",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Questionnaire/IMMZD1ClientHistoryMeasles"
          },
          "name": "Capture Client History Questionnaire",
          "description": "Immunization - Capture Client History Questionnaire",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Questionnaire/QIMMZD4CheckContraindicationsMeasles"
          },
          "name": "Check Contraindications Questionnaire",
          "description": "Immunization - Check Contraindications Questionnaire",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Questionnaire/QIMMZCRegisterClient"
          },
          "name": "Client Registration Questionnaire",
          "description": "Immunization - Client Registration Questionnaire",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ConceptMap/IMMZCConceptMap"
          },
          "name": "ConceptMap to and from IMMZ.C DataElements",
          "description": "Mapping to and from IMMZ.C Data Dictionary to other codesystems.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ConceptMap/IMMZCSexToAdministrativeGender"
          },
          "name": "ConceptMap to and From IMMZ.C sex to administrative gender",
          "description": "Mapping to and from IMMZ.C sex coding to FHIR Administrative Gender.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ConceptMap/IMMZD1ConceptMap"
          },
          "name": "ConceptMap to and from IMMZ.D1 DataElements",
          "description": "Mapping to and from IMMZ.D1 Data Dictionary to other codesystems.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ConceptMap/IMMZD4ConceptMap"
          },
          "name": "ConceptMap to and from IMMZ.D4 DataElements",
          "description": "Mapping to and from IMMZ.D4 Data Dictionary to other codesystems.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/sgcountry"
          },
          "name": "Country ValueSet",
          "description": "This value set defines a base set of codes for countries.   \n\n   Note: The codes for countries are taken from    [ISO 3166](https://www.iso.org/iso-3166-country-codes.html).",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.C.QuestionnaireResponse.1"
          },
          "name": "Example.IMMZ.C.QuestionnaireResponse.1",
          "description": "QuestionnaireResponse Example 1 - Client Registration",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D1.QuestionnaireResponse.1"
          },
          "name": "Example.IMMZ.D1.QuestionnaireResponse.1",
          "description": "QuestionnaireResponse Example 1 - Client History  - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D1.QuestionnaireResponse.2"
          },
          "name": "Example.IMMZ.D1.QuestionnaireResponse.2",
          "description": "QuestionnaireResponse Example 2 - Client History  - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D1.QuestionnaireResponse.3"
          },
          "name": "Example.IMMZ.D1.QuestionnaireResponse.3",
          "description": "QuestionnaireResponse Example 3 - Client History  - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.1"
          },
          "name": "Example.IMMZ.D4.QuestionnaireResponse.1",
          "description": "QuestionnaireResponse Example 1 - Contraindications - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.2"
          },
          "name": "Example.IMMZ.D4.QuestionnaireResponse.2",
          "description": "QuestionnaireResponse Example 2 - Contraindications - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.3"
          },
          "name": "Example.IMMZ.D4.QuestionnaireResponse.3",
          "description": "QuestionnaireResponse Example 3 - Contraindications - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.4"
          },
          "name": "Example.IMMZ.D4.QuestionnaireResponse.4",
          "description": "QuestionnaireResponse Example 4 - Contraindications - Measles",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "Library/FHIRCommon"
          },
          "name": "FHIRCommon",
          "description": "This library defines terminologies and functions commonly used in FHIR-based CQL artifacts",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/FHIRHelpers"
          },
          "name": "FHIRHelpers",
          "description": "This library defines functions to convert between FHIR data types and CQL system-defined types, as well as functions to support FHIRPath implementation. For more information, the FHIRHelpers wiki page: https://github.com/cqframework/clinical_quality_language/wiki/FHIRHelpers",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/HIVstatus-values"
          },
          "name": "HIV status values",
          "description": "Codes representing HIV status values",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/ICD11"
          },
          "name": "ICD-11",
          "description": "ICD-11.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/SGImmunizationStatusCodes"
          },
          "name": "Immunization Status Codes",
          "description": "The value set to instantiate this attribute should be drawn from a terminologically robust code system that consists of or contains concepts to support describing the current status of the administered dose of vaccine.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Immunization/Immunization1"
          },
          "name": "Immunization1",
          "description": "Immunization record",
          "exampleCanonical": "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization"
        }, {
          "reference": {
            "reference": "Immunization/Immunization1a"
          },
          "name": "Immunization1a",
          "description": "Immunization record",
          "exampleCanonical": "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization"
        }, {
          "reference": {
            "reference": "Immunization/Immunization1b"
          },
          "name": "Immunization1b",
          "description": "Immunization record",
          "exampleCanonical": "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization"
        }, {
          "reference": {
            "reference": "ValueSet/Immunocompromised-values"
          },
          "name": "Immunocompromised valueset",
          "description": "Codes representing Immunocompromised values",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/IMMZ.C"
          },
          "name": "IMMZ.C CodeSystem for Data Elements",
          "description": "CodeSystem for IMMZ.C Data Elements",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/IMMZCRegisterClient"
          },
          "name": "IMMZ.C Register Client",
          "description": "Data elements for the IMMZ.C Register Client Data Dictionary.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/IMMZ.C.DE5"
          },
          "name": "IMMZ.C.DE5 ValueSet for Sex",
          "description": "ValueSet for Sex for IMMZ.C.DE5.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/IMMZDUpdateVaccinationRecord"
          },
          "name": "IMMZ.D Update Vaccination Record",
          "description": "Data elements for IMMZ.D Update Vaccination Record.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/IMMZD1ClientHistoryMeasles"
          },
          "name": "IMMZ.D1 Capture Client History for Measles",
          "description": "Data elements for the IMMZ.D1 Capture Client History Data Dictionary for Measles.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/IMMZ.D1"
          },
          "name": "IMMZ.D1 CodeSystem for Data Elements",
          "description": "CodeSystem for IMMZ.C Data Elements",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/IMMZ.D1.DE1VS"
          },
          "name": "IMMZ.D1.DE1 CodeSystem for Immunization status",
          "description": "CodeSystem for IMMZ.D1.DE1 Immunization status",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/IMMZ.D1.DE1"
          },
          "name": "IMMZ.D1.DE1 CodeSystem for Immunization status",
          "description": "CodeSystem for IMMZ.D1.DE1 Immunization status",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/IMMZ.D1.DE10"
          },
          "name": "IMMZ.D1.DE10 ValueSet for HIV Status",
          "description": "ValueSet for HIV Status for IMMZ.D1.DE10.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/IMMZ.D1.DE5VS"
          },
          "name": "IMMZ.D1.DE5 CodeSystem for Reason Not Done",
          "description": "CodeSystem for IMMZ.D1.DE5 Reason Not Done",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/IMMZ.D1.DE5"
          },
          "name": "IMMZ.D1.DE5 CodeSystem for Reason Not Done",
          "description": "CodeSystem for IMMZ.D1.DE5 Reason Not Done",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "PlanDefinition/IMMZD2DTMeasles"
          },
          "name": "IMMZ.D2.DT.Measles",
          "description": "If the child or patient has not been given MCV1 (at 9 months) and MCV2 (between 15-18 months) vaccination",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ActivityDefinition/IMMZD2DTMeaslesCIMR"
          },
          "name": "IMMZ.D2.DT.Measles.Contraindication",
          "description": "Provide measles immunization",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "PlanDefinition/IMMZD2DTMeaslesCI"
          },
          "name": "IMMZ.D2.DT.Measles.Contraindication",
          "description": "Check contraindications for Measles vaccine",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ActivityDefinition/IMMZD2DTMeaslesEval"
          },
          "name": "IMMZ.D2.DT.Measles.Eval",
          "description": "Provide measles immunization",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ActivityDefinition/IMMZD2DTMeaslesMR"
          },
          "name": "IMMZ.D2.DT.Measles.MR",
          "description": "Provide measles immunization",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/IMMZD4CheckContraindicationsMeasles"
          },
          "name": "IMMZ.D4 Check Contraindications for Measles",
          "description": "Data elements for the IMMZ.D4 Check Contraindications Data Dictionary for Measles.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/IMMZ.D4"
          },
          "name": "IMMZ.D4 CodeSystem for Check Contraindications Data Elements",
          "description": "CodeSystem for IMMZ.D4 Check Contraindications Data Elements",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/IMMZ.D4.DE161"
          },
          "name": "IMMZ.D4.DE161 ValueSet for Potential Contraindications",
          "description": "ValueSet for Potential Contraindications for IMMZ.D4.DE161.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "PlanDefinition/IMMZDTUmbrella"
          },
          "name": "IMMZ.DT.Umbrella",
          "description": "If the child or patient has not been given MCV1 (at 9 months) and MCV2 (between 15-18 months) vaccination",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/IMMZ.Z.DE9"
          },
          "name": "IMMZ.Z.DE10 ValueSet for Measles Vaccines",
          "description": "ValueSet for Measles Vaccines for IMMZ.Z.DE9.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZCommon"
          },
          "name": "IMMZCommon",
          "description": "This library defines common terminologies and functions used throughout the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZCommonIzDataElements"
          },
          "name": "IMMZCommonIzDataElements",
          "description": "This library defines common terminologies and functions used throughout the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZConcepts"
          },
          "name": "IMMZConcepts",
          "description": "This library defines concepts used throughout the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZConfig"
          },
          "name": "IMMZConfig",
          "description": "This library defines configuration points for the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZD2DTMeaslesLogic"
          },
          "name": "IMMZD2DTMeaslesLogic",
          "description": "This library defines decision support logic for the D2.DT.Measles decision table in the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZDT08"
          },
          "name": "IMMZDT08",
          "description": "This library defines decision support logic for the IMMZ.DT.08 decision table in the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Measure/IMMZIND05"
          },
          "name": "IMMZIND05",
          "description": "IMMZ.IND.05 Measles indicator for first dose.",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "Library/IMMZIND08"
          },
          "name": "IMMZIND08",
          "description": "This library defines population criteria for the IND.08 indicator in the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Measure/IMMZIND40"
          },
          "name": "IMMZIND40",
          "description": "IMMZ.IND.40 Measles indicator for second dose.",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "Library/IMMZIndicatorCommon"
          },
          "name": "IMMZIndicatorCommon",
          "description": "This library defines common terminologies and functions used throughout the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZINDMeasles"
          },
          "name": "IMMZINDMeasles",
          "description": "This library defines population criteria for the Measles indicator in the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/IMMZVaccineLibrary"
          },
          "name": "IMMZVaccineLibrary",
          "description": "This library defines logic and mappings for the use of vaccines in the Immunization CPG",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/VaccineTypes"
          },
          "name": "Measles Vaccine Type ValueSet",
          "description": "Measles Vaccine type Codes, containing the different types of antigens used in vaccine guidelines.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/VSMeaslesVaccineProducts"
          },
          "name": "MeaslesVaccine Products ValueSet",
          "description": "Vaccine Product Codes - representing the codes of the products currently available.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Medication/Vaccine-MSDMMRVaxPro"
          },
          "name": "MSD - M-M-RvaxPRO",
          "description": "M-M-RvaxPRO",
          "exampleCanonical": "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct"
        }, {
          "reference": {
            "reference": "ValueSet/Negativetestresult-values"
          },
          "name": "Negative Test Results",
          "description": "Codes representing negative test result values",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Condition/patient-2-condition-1"
          },
          "name": "patient-2-condition-1",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "Patient/P123456"
          },
          "name": "patient123456",
          "description": "Patient Example - 123456",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "Patient/P654321"
          },
          "name": "patient654321",
          "description": "Patient Example - 654321",
          "exampleBoolean": true
        }, {
          "reference": {
            "reference": "ValueSet/PositiveTestResult-values"
          },
          "name": "Positive Test Result valuest",
          "description": "Codes representing Positive Test Result values",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/pregnancystatus-values"
          },
          "name": "Pregnancy status values",
          "description": "Codes representing possible values for the Pregnancy status element",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Medication/Vaccine-SIIMeasles"
          },
          "name": "Serum Institute of India Measles - Medication Product",
          "description": "Serum Institute of India Measles - Medication Product",
          "exampleCanonical": "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct"
        }, {
          "reference": {
            "reference": "ValueSet/LiveAttenuatedVaccines"
          },
          "name": "Set of live attenuated vaccines",
          "description": "Codes representing live attenuated vaccines",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/sg-ext-administeredProduct"
          },
          "name": "SGAdministeredProduct",
          "description": "The product administered",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/SGImmunization"
          },
          "name": "SGImmunization",
          "description": "A record of an immunization, with a given product",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/SGMedicationClassification"
          },
          "name": "SGMedicationClassification",
          "description": "Medication Classification.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/SGVaccineProduct"
          },
          "name": "SGVaccineProduct",
          "description": "A Vaccine product",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/SGVaccineProposal"
          },
          "name": "SGVaccineProposal",
          "description": "An order for immunization (for a disease, not a specific product)",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "StructureDefinition/SGVaccineRequest"
          },
          "name": "SGVaccineRequest",
          "description": "An order for an actual product",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "CodeSystem/VaccineProducts"
          },
          "name": "Vaccine Product codes CodeSet",
          "description": "Vaccine Product codes, containing the different available products.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "ValueSet/AllVaccineTypes"
          },
          "name": "Vaccine Type ValueSet",
          "description": "Vaccine type Codes, containing the different types of antigens used in vaccine guidelines.",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "MedicationRequest/VaccineProposal1"
          },
          "name": "VaccineProposal1",
          "description": "Example Proposal (Request) fr patient vaccination",
          "exampleCanonical": "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProposal"
        }, {
          "reference": {
            "reference": "Library/WHOCommon"
          },
          "name": "WHOCommon",
          "description": "This library defines common terminologies and functions used throughout WHO SMART Guidelines content",
          "exampleBoolean": false
        }, {
          "reference": {
            "reference": "Library/WHOConcepts"
          },
          "name": "WHOConcepts",
          "description": "This library defines common concepts used throughout WHO SMART Guidelines content",
          "exampleBoolean": false
        } ],
        "page": {
          "nameUrl": "toc.html",
          "title": "Table of Contents",
          "generation": "html",
          "page": [ {
            "nameUrl": "index.html",
            "title": "Home",
            "generation": "markdown",
            "page": [ {
              "nameUrl": "changes.html",
              "title": "Changes",
              "generation": "markdown"
            }, {
              "nameUrl": "dependencies.html",
              "title": "Dependencies",
              "generation": "markdown"
            }, {
              "nameUrl": "references.html",
              "title": "References",
              "generation": "markdown"
            }, {
              "nameUrl": "adapting.html",
              "title": "Adapting Guidelines for Country use",
              "generation": "markdown"
            }, {
              "nameUrl": "license.html",
              "title": "License",
              "generation": "markdown"
            } ]
          }, {
            "nameUrl": "business-requirements.html",
            "title": "Business Requirements",
            "generation": "markdown",
            "page": [ {
              "nameUrl": "concepts.html",
              "title": "Concepts",
              "generation": "markdown"
            }, {
              "nameUrl": "personas.html",
              "title": "Generic Personas",
              "generation": "markdown"
            }, {
              "nameUrl": "scenarios.html",
              "title": "User Scenarios",
              "generation": "markdown"
            }, {
              "nameUrl": "business-processes.html",
              "title": "Business Processes",
              "generation": "markdown"
            }, {
              "nameUrl": "dictionary.html",
              "title": "Data Dictionary",
              "generation": "markdown"
            }, {
              "nameUrl": "decision-logic.html",
              "title": "Decision-support logic",
              "generation": "markdown"
            }, {
              "nameUrl": "indicators.html",
              "title": "Indicator and Performance Metrics",
              "generation": "markdown"
            }, {
              "nameUrl": "functional-requirements.html",
              "title": "Functional Requirements",
              "generation": "markdown"
            }, {
              "nameUrl": "non-functional-requirements.html",
              "title": "Non-functional Requirements",
              "generation": "markdown"
            } ]
          }, {
            "nameUrl": "data-models-and-exchange.html",
            "title": "Data Models and Exchange",
            "generation": "markdown",
            "page": [ {
              "nameUrl": "system-actors.html",
              "title": "System Actors",
              "generation": "markdown"
            }, {
              "nameUrl": "sequence-diagrams.html",
              "title": "Sequence Diagrams",
              "generation": "markdown"
            }, {
              "nameUrl": "transactions.html",
              "title": "Transactions",
              "generation": "markdown"
            }, {
              "nameUrl": "indicators-measures.html",
              "title": "Indicators and Measures",
              "generation": "markdown"
            }, {
              "nameUrl": "codings.html",
              "title": "Codings",
              "generation": "markdown"
            } ]
          }, {
            "nameUrl": "deployment.html",
            "title": "Deployment",
            "generation": "markdown",
            "page": [ {
              "nameUrl": "security-privacy.html",
              "title": "Security and Privacy Considerations",
              "generation": "markdown"
            }, {
              "nameUrl": "testing.html",
              "title": "Testing",
              "generation": "markdown"
            }, {
              "nameUrl": "test-data.html",
              "title": "Test Data",
              "generation": "markdown"
            }, {
              "nameUrl": "reference-implementations.html",
              "title": "Reference Implementations",
              "generation": "markdown"
            }, {
              "nameUrl": "downloads.html",
              "title": "Downloads",
              "generation": "markdown"
            } ]
          }, {
            "nameUrl": "indices.html",
            "title": "Indices",
            "generation": "markdown",
            "page": [ {
              "nameUrl": "artifacts.html",
              "title": "Artifact Index",
              "generation": "html"
            }, {
              "nameUrl": "maps.html",
              "title": "Mappings",
              "generation": "markdown"
            } ]
          } ]
        },
        "parameter": [ {
          "code": "copyrightyear",
          "value": "2023+"
        }, {
          "code": "releaselabel",
          "value": "ci-build"
        }, {
          "code": "produce-jekyll-data",
          "value": "true"
        }, {
          "code": "path-resource",
          "value": "input/actors"
        }, {
          "code": "path-resource",
          "value": "input/maps"
        }, {
          "code": "path-binary",
          "value": "input/cql"
        }, {
          "code": "special-url",
          "value": "http://id.who.int/icd/release/11/mms"
        }, {
          "code": "special-url",
          "value": "http://hl7.org/fhir/ValueSet/immunization-status"
        }, {
          "code": "special-url",
          "value": "http://hl7.org/fhir/ValueSet/country"
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "ImplementationGuide/smart.who.int.immunizations-measles"
    }
  }, {
    "resource": {
      "resourceType": "PlanDefinition",
      "id": "IMMZDTUmbrella",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-strategydefinition" ]
      },
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/PlanDefinition/IMMZDTUmbrella",
      "version": "0.1.0",
      "name": "IMMZDTUmbrella",
      "title": "IMMZ.DT.Umbrella",
      "type": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/plan-definition-type",
          "code": "workflow-definition"
        } ]
      },
      "status": "draft",
      "experimental": false,
      "publisher": "World Health Organization (WHO)",
      "description": "If the child or patient has not been given MCV1 (at 9 months) and MCV2 (between 15-18 months) vaccination",
      "action": [ {
        "title": "Check Immunizations",
        "description": "Check immunization plan definitions to see what is required.",
        "code": [ {
          "coding": [ {
            "system": "http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process-cs",
            "code": "dispense-medications"
          } ]
        } ],
        "selectionBehavior": "all",
        "action": [ {
          "title": "Immunize patient for Measles",
          "description": "Provide measles immunization",
          "code": [ {
            "coding": [ {
              "system": "http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process-cs",
              "code": "dispense-medications"
            } ]
          } ],
          "selectionBehavior": "all",
          "definitionCanonical": "http://smart.who.int/immunizations-measles/PlanDefinition/IMMZD2DTMeasles"
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "PlanDefinition/IMMZDTUmbrella"
    }
  }, {
    "resource": {
      "resourceType": "ConceptMap",
      "id": "IMMZD4ConceptMap",
      "url": "http://smart.who.int/immunizations-measles/ConceptMap/IMMZD4ConceptMap",
      "name": "IMMZ_D4_ConceptMap",
      "title": "ConceptMap to and from IMMZ.D4 DataElements",
      "status": "active",
      "experimental": false,
      "date": "2023-10-09",
      "description": "Mapping to and from IMMZ.D4 Data Dictionary to other codesystems.",
      "group": [ {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
        "target": "http://id.who.int/icd/release/11/mms",
        "element": [ {
          "code": "DE162",
          "target": [ {
            "code": "QA41",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE165",
          "target": [ {
            "code": "4B4Z",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE166",
          "target": [ {
            "code": "QC44.0",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE167",
          "target": [ {
            "code": "QC44.2",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE168",
          "target": [ {
            "code": "1C62.1",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://id.who.int/icd/release/11/mms",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
        "element": [ {
          "code": "QA41",
          "target": [ {
            "code": "DE162",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "4B4Z",
          "target": [ {
            "code": "DE165",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "QC44.0",
          "target": [ {
            "code": "DE166",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "QC44.2",
          "target": [ {
            "code": "DE167",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "1C62.1",
          "target": [ {
            "code": "DE168",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
        "target": "http://loinc.org",
        "element": [ {
          "code": "DE162",
          "target": [ {
            "code": "82810-3",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE165",
          "target": [ {
            "code": "96381-9",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE168",
          "target": [ {
            "code": "47244-9",
            "equivalence": "wider"
          } ]
        } ]
      }, {
        "source": "http://loinc.org",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
        "element": [ {
          "code": "82810-3",
          "target": [ {
            "code": "DE162",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "96381-9",
          "target": [ {
            "code": "DE165",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "47244-9",
          "target": [ {
            "code": "DE168",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        } ]
      }, {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
        "target": "http://snomed.info/sct",
        "element": [ {
          "code": "DE162",
          "target": [ {
            "code": "77386006",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE165",
          "target": [ {
            "code": "370388006",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE166",
          "target": [ {
            "code": "10839421000119100",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE167",
          "target": [ {
            "code": "419076005",
            "equivalence": "wider"
          } ]
        }, {
          "code": "DE168",
          "target": [ {
            "code": "86406008",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://snomed.info/sct",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
        "element": [ {
          "code": "77386006",
          "target": [ {
            "code": "DE162",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "370388006",
          "target": [ {
            "code": "DE165",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "10839421000119100",
          "target": [ {
            "code": "DE166",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "419076005",
          "target": [ {
            "code": "DE167",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        }, {
          "code": "86406008",
          "target": [ {
            "code": "DE168",
            "equivalence": "equivalent"
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ConceptMap/IMMZD4ConceptMap"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.C.QuestionnaireResponse.1",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZCRegisterClient",
      "status": "completed",
      "authored": "2023-08-08T19:20:20.913Z",
      "item": [ {
        "linkId": "uniqueId",
        "text": "Unique identifier for the client",
        "answer": [ {
          "valueString": "123456"
        } ]
      }, {
        "linkId": "name",
        "text": "Client name",
        "item": [ {
          "linkId": "fullName",
          "text": "Full name of the client",
          "answer": [ {
            "valueString": "Test Patient"
          } ]
        }, {
          "linkId": "firstName",
          "text": "First or given name",
          "answer": [ {
            "valueString": "Test"
          } ]
        }, {
          "linkId": "familyName",
          "text": "Family name",
          "answer": [ {
            "valueString": "Patient"
          } ]
        } ]
      }, {
        "linkId": "sex",
        "text": "Sex",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE7",
            "display": "Female"
          }
        } ]
      }, {
        "linkId": "birthDate",
        "text": "Birth Date",
        "answer": [ {
          "valueDate": "2023-03-02"
        } ]
      }, {
        "linkId": "caregiver",
        "text": "Caregiver name",
        "item": [ {
          "linkId": "fullName",
          "text": "Full name of the caregiver",
          "answer": [ {
            "valueString": "Mother Patient"
          } ]
        } ]
      }, {
        "linkId": "phone",
        "text": "Client Phone number",
        "answer": [ {
          "valueString": "406-555-1212"
        } ]
      }, {
        "linkId": "administrativeArea",
        "text": "Administrative area",
        "answer": [ {
          "valueCoding": {
            "system": "urn:iso:std:iso:3166:-2",
            "code": "KE-30",
            "display": "Nairobi City"
          }
        } ]
      }, {
        "linkId": "healthWorker",
        "text": "Health Worker",
        "answer": [ {
          "valueBoolean": false
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.C.QuestionnaireResponse.1"
    }
  }, {
    "resource": {
      "resourceType": "Patient",
      "id": "P654321",
      "identifier": [ {
        "value": "654321"
      } ],
      "name": [ {
        "text": "Test Patient",
        "family": "Patient",
        "given": [ "Test" ]
      } ],
      "gender": "female",
      "birthDate": "2022-04-01"
    },
    "request": {
      "method": "PUT",
      "url": "Patient/P654321"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D1.QuestionnaireResponse.3",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/IMMZD1ClientHistoryMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P654321"
      },
      "authored": "2023-10-18T19:20:20.913Z",
      "item": [ {
        "linkId": "dose0",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "completedPrimarySeries",
        "answer": [ {
          "valueBoolean": true
        } ]
      }, {
        "linkId": "dateSeriesCompleted",
        "answer": [ {
          "valueDate": "2023-01-01"
        } ]
      }, {
        "linkId": "hivStatus",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE11"
          }
        } ]
      }, {
        "linkId": "pretermBirth",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "severelyImmunosuppressed",
        "answer": [ {
          "valueBoolean": true
        } ]
      }, {
        "linkId": "artStartDate",
        "answer": [ {
          "valueDate": "2022-06-01"
        } ]
      }, {
        "linkId": "vaccineHistory",
        "item": [ {
          "linkId": "vaccineType",
          "answer": [ {
            "valueCoding": {
              "system": "http://id.who.int/icd/release/11/mms",
              "code": "XM4AJ8"
            }
          } ]
        }, {
          "linkId": "vaccineDate",
          "answer": [ {
            "valueDate": "2023-04-05"
          } ]
        } ]
      }, {
        "linkId": "vaccineHistory",
        "item": [ {
          "linkId": "vaccineType",
          "answer": [ {
            "valueCoding": {
              "system": "http://id.who.int/icd/release/11/mms",
              "code": "XM4AJ8"
            }
          } ]
        }, {
          "linkId": "vaccineDate",
          "answer": [ {
            "valueDate": "2023-10-05"
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D1.QuestionnaireResponse.3"
    }
  }, {
    "resource": {
      "resourceType": "Questionnaire",
      "id": "QIMMZCRegisterClient",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-extr-smap" ]
      },
      "language": "en",
      "contained": [ {
        "resourceType": "ValueSet",
        "id": "IMMZ.C.DE5",
        "url": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.C.DE5",
        "name": "IMMZ_C_DE5",
        "title": "IMMZ.C.DE5 ValueSet for Sex",
        "status": "active",
        "experimental": false,
        "description": "ValueSet for Sex for IMMZ.C.DE5.",
        "compose": {
          "include": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "concept": [ {
              "code": "DE6",
              "display": "Male"
            }, {
              "code": "DE7",
              "display": "Female"
            }, {
              "code": "DE8",
              "display": "Biological sex not specified"
            }, {
              "code": "DE9",
              "display": "Intersex"
            } ]
          } ]
        }
      } ],
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-targetStructureMap",
        "valueCanonical": "http://smart.who.int/immunizations-measles/StructureMap/IMMZCQRToPatient"
      } ],
      "url": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZCRegisterClient",
      "version": "2023",
      "title": "Client Registration Questionnaire",
      "status": "draft",
      "subjectType": [ "Patient" ],
      "description": "Immunization - Client Registration Questionnaire",
      "item": [ {
        "linkId": "uniqueId",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE1"
        } ],
        "text": "Unique identifier for the client",
        "type": "string",
        "required": true,
        "repeats": false
      }, {
        "linkId": "name",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE2"
        }, {
          "system": "http://loinc.org",
          "code": "54125-0",
          "display": "Patient name"
        }, {
          "system": "http://snomed.info/sct",
          "code": "371484003",
          "display": "Patient name (observable entity)"
        } ],
        "text": "Client name",
        "type": "group",
        "required": true,
        "repeats": false,
        "item": [ {
          "linkId": "fullName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE2"
          }, {
            "system": "http://loinc.org",
            "code": "54125-0",
            "display": "Patient name"
          }, {
            "system": "http://snomed.info/sct",
            "code": "371484003",
            "display": "Patient name (observable entity)"
          } ],
          "text": "Full name of the client",
          "type": "string",
          "required": true,
          "repeats": false
        }, {
          "linkId": "firstName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE3"
          }, {
            "system": "http://loinc.org",
            "code": "45392-8",
            "display": "First name"
          }, {
            "system": "http://snomed.info/sct",
            "code": "184095009",
            "display": "Patient forename (observable entity)"
          } ],
          "text": "First or given name",
          "type": "string",
          "required": false,
          "repeats": false
        }, {
          "linkId": "familyName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE4"
          }, {
            "system": "http://loinc.org",
            "code": "45394-4",
            "display": "Last name"
          }, {
            "system": "http://snomed.info/sct",
            "code": "184096005",
            "display": "Patient surname (observable entity)"
          } ],
          "text": "Family name",
          "type": "string",
          "required": false,
          "repeats": false
        } ]
      }, {
        "linkId": "sex",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE5"
        }, {
          "system": "http://loinc.org",
          "code": "46098-0",
          "display": "Sex"
        }, {
          "system": "http://snomed.info/sct",
          "code": "184100006",
          "display": "Patient sex (observable entity)"
        } ],
        "text": "Sex",
        "type": "choice",
        "required": true,
        "repeats": false,
        "answerValueSet": "#IMMZ.C.DE5"
      }, {
        "linkId": "birthDate",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE10"
        }, {
          "system": "http://loinc.org",
          "code": "21112-8",
          "display": "Birth date"
        }, {
          "system": "http://snomed.info/sct",
          "code": "184099003",
          "display": "Date of birth (observable entity)"
        } ],
        "text": "Birth Date",
        "type": "date",
        "required": false,
        "repeats": false
      }, {
        "linkId": "caregiver",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE14"
        }, {
          "system": "http://snomed.info/sct",
          "code": "184140000",
          "display": "Caregiver details (observable entity)"
        } ],
        "text": "Caregiver name",
        "type": "group",
        "required": true,
        "repeats": false,
        "item": [ {
          "linkId": "fullName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE15"
          }, {
            "system": "http://snomed.info/sct",
            "code": "184140000",
            "display": "Caregiver details (observable entity)"
          } ],
          "text": "Full name of the caregiver",
          "type": "string",
          "required": true,
          "repeats": false
        }, {
          "linkId": "firstName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE16"
          } ],
          "text": "First or given name",
          "type": "string",
          "required": false,
          "repeats": false
        }, {
          "linkId": "familyName",
          "code": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
            "code": "DE17"
          } ],
          "text": "Family name",
          "type": "string",
          "required": false,
          "repeats": false
        } ]
      }, {
        "linkId": "phone",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE18"
        }, {
          "system": "http://loinc.org",
          "code": "42077-8",
          "display": "Patient Phone number"
        }, {
          "system": "http://snomed.info/sct",
          "code": "184103008",
          "display": "Patient telephone number (observable entity)"
        } ],
        "text": "Client Phone number",
        "type": "string",
        "required": true,
        "repeats": false
      }, {
        "linkId": "administrativeArea",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE19"
        }, {
          "system": "http://loinc.org",
          "code": "56799-0",
          "display": "Address"
        }, {
          "system": "http://snomed.info/sct",
          "code": "184097001",
          "display": "Patient address (observable entity)"
        } ],
        "text": "Administrative area",
        "type": "choice",
        "required": false,
        "repeats": false
      }, {
        "linkId": "healthWorker",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
          "code": "DE20"
        } ],
        "text": "Health Worker",
        "type": "boolean",
        "required": true,
        "repeats": false
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Questionnaire/QIMMZCRegisterClient"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "IMMZDUpdateVaccinationRecord",
      "extension": [ {
        "url": "http://hl7.org/fhir/tools/StructureDefinition/logical-target",
        "valueBoolean": true
      } ],
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZDUpdateVaccinationRecord",
      "name": "IMMZDUpdateVaccinationRecord",
      "title": "IMMZ.D Update Vaccination Record",
      "status": "active",
      "description": "Data elements for IMMZ.D Update Vaccination Record.",
      "fhirVersion": "4.0.1",
      "kind": "logical",
      "abstract": false,
      "type": "http://smart.who.int/immunizations-measles/StructureDefinition/IMMZDUpdateVaccinationRecord",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Base",
      "derivation": "specialization",
      "differential": {
        "element": [ {
          "id": "IMMZDUpdateVaccinationRecord",
          "path": "IMMZDUpdateVaccinationRecord",
          "short": "IMMZ.D Update Vaccination Record",
          "definition": "Data elements for IMMZ.D Update Vaccination Record."
        }, {
          "id": "IMMZDUpdateVaccinationRecord.immunizatioEventStatus",
          "path": "IMMZDUpdateVaccinationRecord.immunizatioEventStatus",
          "short": "The current status of the individual immunization event",
          "definition": "The current status of the individual immunization event",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "code"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.D1.DE1VS"
          }
        }, {
          "id": "IMMZDUpdateVaccinationRecord.reasonNotDone",
          "path": "IMMZDUpdateVaccinationRecord.reasonNotDone",
          "short": "Reason vaccine was not administered",
          "definition": "The reason this immunization event was not performed",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "code"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.D1.DE5VS"
          }
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineProduct",
          "path": "IMMZDUpdateVaccinationRecord.vaccineProduct",
          "short": "Vaccine brand",
          "definition": "The brand or trade name used to refer to the vaccine received",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "Coding"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.liveVaccine",
          "path": "IMMZDUpdateVaccinationRecord.liveVaccine",
          "short": "Live attenuated vaccine",
          "definition": "Uses a living but weakened version of the virus or one that's very similar",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "boolean"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineType",
          "path": "IMMZDUpdateVaccinationRecord.vaccineType",
          "short": "Vaccine type",
          "definition": "Vaccine type/category that was administered or was to be administered. Any vaccine code available in the IMMZ.Z Vaccine Library list of codes applies in this data element",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "Coding"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.dateTime",
          "path": "IMMZDUpdateVaccinationRecord.dateTime",
          "short": "Date and time of vaccination",
          "definition": "Represents the visit/encounter date, which is the date and time when the vaccine was administered to the client",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "dateTime"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.countryOfVaccination",
          "path": "IMMZDUpdateVaccinationRecord.countryOfVaccination",
          "short": "Country of vaccination",
          "definition": "The service delivery country where the vaccine administration occurred",
          "min": 1,
          "max": "1",
          "type": [ {
            "code": "Coding"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/sgcountry"
          }
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccinationLocation",
          "path": "IMMZDUpdateVaccinationRecord.vaccinationLocation",
          "short": "Vaccination location",
          "definition": "The service delivery location where the vaccine administration occurred",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineManufacturer",
          "path": "IMMZDUpdateVaccinationRecord.vaccineManufacturer",
          "short": "Vaccine manufacturer",
          "definition": "The manufacturer of the vaccine product",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineLotNumber",
          "path": "IMMZDUpdateVaccinationRecord.vaccineLotNumber",
          "short": "Vaccine batch number",
          "definition": "Batch number or lot number of vaccine",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineMAH",
          "path": "IMMZDUpdateVaccinationRecord.vaccineMAH",
          "short": "Vaccine market authorization holder",
          "definition": "Name of the market authorization holder of the vaccine received. If market authorization holder is unknown, vaccine manufacturer is REQUIRED",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineExpirationDate",
          "path": "IMMZDUpdateVaccinationRecord.vaccineExpirationDate",
          "short": "Expiration date",
          "definition": "The expiration date of the vaccine",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineDoseQuantity",
          "path": "IMMZDUpdateVaccinationRecord.vaccineDoseQuantity",
          "short": "Dose quantity",
          "definition": "The quantity of vaccine product that was administered",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.healthWorker",
          "path": "IMMZDUpdateVaccinationRecord.healthWorker",
          "short": "Health worker identifier",
          "definition": "The person, organization, or role of the entity that performed the act of giving the vaccine to the client. The implementing system can choose to populate this field using data from a health worker registry or health facility registry",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "string"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineDoseNumber",
          "path": "IMMZDUpdateVaccinationRecord.vaccineDoseNumber",
          "short": "Dose number",
          "definition": "Vaccine dose number including dose number within series",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "integer"
          } ]
        }, {
          "id": "IMMZDUpdateVaccinationRecord.vaccineTotalDosesInSeries",
          "path": "IMMZDUpdateVaccinationRecord.vaccineTotalDosesInSeries",
          "short": "Total doses in series",
          "definition": "The recommended number of doses for immunity according to the national protocol",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "integer"
          } ]
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/IMMZDUpdateVaccinationRecord"
    }
  }, {
    "resource": {
      "resourceType": "Condition",
      "id": "patient-2-condition-1",
      "clinicalStatus": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/condition-clinical",
          "version": "0.5.0",
          "code": "active",
          "display": "Active"
        } ]
      },
      "verificationStatus": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/condition-ver-status",
          "version": "0.5.0",
          "code": "confirmed",
          "display": "Confirmed"
        } ]
      },
      "code": {
        "coding": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
          "code": "DE167",
          "display": "Severe allergic reactions"
        } ]
      },
      "subject": {
        "reference": "Patient/P654321"
      },
      "onsetDateTime": "2022-10-10T10:00:00-07:00"
    },
    "request": {
      "method": "PUT",
      "url": "Condition/patient-2-condition-1"
    }
  }, {
    "resource": {
      "resourceType": "Questionnaire",
      "id": "QIMMZD4CheckContraindicationsMeasles",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-extr-smap" ]
      },
      "language": "en",
      "contained": [ {
        "resourceType": "ValueSet",
        "id": "IMMZ.D4.DE161",
        "url": "http://smart.who.int/immunizations-measles/ValueSet/IMMZ.D4.DE161",
        "name": "IMMZ_D4_DE161",
        "title": "IMMZ.D4.DE161 ValueSet for Potential Contraindications",
        "status": "active",
        "experimental": false,
        "description": "ValueSet for Potential Contraindications for IMMZ.D4.DE161.",
        "compose": {
          "include": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "concept": [ {
              "code": "DE162",
              "display": "Currently pregnant"
            }, {
              "code": "DE165",
              "display": "Severely immunosuppressed"
            }, {
              "code": "DE166",
              "display": "History of anaphylactic reactions"
            }, {
              "code": "DE167",
              "display": "Severe allergic reactions"
            }, {
              "code": "DE168",
              "display": "Symptomatic HIV infection"
            } ]
          } ]
        }
      } ],
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-targetStructureMap",
        "valueCanonical": "http://smart.who.int/immunizations-measles/StructureMap/IMMZD4QRToResources"
      } ],
      "url": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZD4CheckContraindicationsMeasles",
      "version": "2023",
      "title": "Check Contraindications Questionnaire",
      "status": "draft",
      "subjectType": [ "Patient" ],
      "description": "Immunization - Check Contraindications Questionnaire",
      "item": [ {
        "linkId": "contraindications",
        "code": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
          "code": "DE161"
        } ],
        "text": "Contraindications",
        "type": "choice",
        "required": false,
        "repeats": true,
        "answerValueSet": "#IMMZ.D4.DE161"
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Questionnaire/QIMMZD4CheckContraindicationsMeasles"
    }
  }, {
    "resource": {
      "resourceType": "Immunization",
      "id": "Immunization1",
      "meta": {
        "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization" ]
      },
      "extension": [ {
        "url": "http://smart.who.int/immunizations-measles/StructureDefinition/sg-ext-administeredProduct",
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/VaccineProducts",
            "code": "20009060/2"
          } ]
        }
      } ],
      "status": "completed",
      "vaccineCode": {
        "coding": [ {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "XM28X5"
        } ]
      },
      "patient": {
        "reference": "Patient/P123456"
      },
      "occurrenceDateTime": "2023-08-05",
      "lotNumber": "lot123",
      "expirationDate": "2023-10-01"
    },
    "request": {
      "method": "PUT",
      "url": "Immunization/Immunization1"
    }
  }, {
    "resource": {
      "resourceType": "Measure",
      "id": "IMMZIND40",
      "meta": {
        "profile": [ "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cv-measure-cqfm" ]
      },
      "url": "http://smart.who.int/immunizations-measles/Measure/IMMZIND40",
      "version": "0.1.0",
      "name": "IMMZIND40",
      "status": "draft",
      "experimental": false,
      "date": "2023-10-05",
      "publisher": "World Health Organization (WHO)",
      "description": "IMMZ.IND.40 Measles indicator for second dose.",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZINDMeasles" ],
      "scoring": {
        "coding": [ {
          "system": "http://terminology.hl7.org/CodeSystem/measure-scoring",
          "code": "continuous-variable",
          "display": "Continuous Variable"
        } ]
      },
      "group": [ {
        "population": [ {
          "id": "IMMZ.IND.40.IP",
          "extension": [ {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "boolean"
          } ],
          "code": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/measure-population",
              "code": "initial-population",
              "display": "Initial Population"
            } ]
          },
          "description": "Initial Population",
          "criteria": {
            "language": "text/cql",
            "expression": "Initial Population 40"
          }
        }, {
          "id": "IMMZ.IND.40.MP",
          "extension": [ {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-populationBasis",
            "valueCode": "boolean"
          } ],
          "code": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/measure-population",
              "code": "measure-population",
              "display": "Measure Population"
            } ]
          },
          "description": "Measure Population",
          "criteria": {
            "language": "text/cql",
            "expression": "Measure Population 40"
          }
        }, {
          "id": "IMMZ.IND.40.MO",
          "extension": [ {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-criteriaReference",
            "valueString": "measure-population"
          }, {
            "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-aggregateMethod",
            "valueCode": "count"
          } ],
          "code": {
            "coding": [ {
              "system": "http://terminology.hl7.org/CodeSystem/measure-population",
              "code": "measure-observation"
            } ]
          },
          "description": "Measure Observation",
          "criteria": {
            "language": "text/cql",
            "expression": "Measure Observation 40"
          }
        } ],
        "stratifier": [ {
          "id": "IMMZ.IND.40.S",
          "criteria": {
            "language": "text/cql",
            "expression": "Stratification"
          }
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Measure/IMMZIND40"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D1.QuestionnaireResponse.2",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/IMMZD1ClientHistoryMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P654321"
      },
      "authored": "2023-10-18T19:20:20.913Z",
      "item": [ {
        "linkId": "dose0",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "completedPrimarySeries",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "hivStatus",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D1",
            "code": "DE12"
          }
        } ]
      }, {
        "linkId": "pretermBirth",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "severelyImmunosuppressed",
        "answer": [ {
          "valueBoolean": false
        } ]
      }, {
        "linkId": "vaccineHistory",
        "item": [ {
          "linkId": "vaccineType",
          "answer": [ {
            "valueCoding": {
              "system": "http://id.who.int/icd/release/11/mms",
              "code": "XM4AJ8"
            }
          } ]
        }, {
          "linkId": "vaccineDate",
          "answer": [ {
            "valueDate": "2023-04-05"
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D1.QuestionnaireResponse.2"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D4.QuestionnaireResponse.4",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZD4CheckContraindicationsMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P123456"
      },
      "authored": "2023-10-11",
      "item": [ {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE162",
            "display": "Currently pregnant"
          }
        } ]
      }, {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE167",
            "display": "Severe allergic reactions"
          }
        } ]
      }, {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE168",
            "display": "Symptomatic HIV infection"
          }
        } ]
      }, {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE165",
            "display": "Severely immunosuppressed"
          }
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.4"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "SGVaccineProposal",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProposal",
      "name": "SGVaccineProposal",
      "status": "draft",
      "description": "An order for immunization (for a disease, not a specific product)",
      "fhirVersion": "4.0.1",
      "kind": "resource",
      "abstract": false,
      "type": "MedicationRequest",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/MedicationRequest",
      "derivation": "constraint",
      "differential": {
        "element": [ {
          "id": "MedicationRequest.intent",
          "path": "MedicationRequest.intent",
          "patternCode": "proposal"
        }, {
          "id": "MedicationRequest.medication[x]",
          "path": "MedicationRequest.medication[x]",
          "slicing": {
            "discriminator": [ {
              "type": "type",
              "path": "$this"
            } ],
            "ordered": false,
            "rules": "open"
          }
        }, {
          "id": "MedicationRequest.medication[x]:medicationCodeableConcept",
          "path": "MedicationRequest.medication[x]",
          "sliceName": "medicationCodeableConcept",
          "min": 0,
          "max": "1",
          "type": [ {
            "code": "CodeableConcept"
          } ],
          "binding": {
            "strength": "required",
            "valueSet": "http://smart.who.int/immunizations-measles/ValueSet/VaccineTypes"
          }
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/SGVaccineProposal"
    }
  }, {
    "resource": {
      "resourceType": "Immunization",
      "id": "Immunization1a",
      "meta": {
        "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGImmunization" ]
      },
      "extension": [ {
        "url": "http://smart.who.int/immunizations-measles/StructureDefinition/sg-ext-administeredProduct",
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/VaccineProducts",
            "code": "20009060/2"
          } ]
        }
      } ],
      "status": "completed",
      "vaccineCode": {
        "coding": [ {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "XM4AJ8",
          "display": "Measles, combinations with mumps, rubella and varicella, live attenuated"
        } ]
      },
      "patient": {
        "reference": "Patient/P654321"
      },
      "occurrenceDateTime": "2023-01-02T00:00:00.000Z",
      "recorded": "2023-01-02T00:00:00.000Z",
      "primarySource": true,
      "lotNumber": "lot123",
      "expirationDate": "2023-10-01"
    },
    "request": {
      "method": "PUT",
      "url": "Immunization/Immunization1a"
    }
  }, {
    "resource": {
      "resourceType": "ConceptMap",
      "id": "IMMZCConceptMap",
      "url": "http://smart.who.int/immunizations-measles/ConceptMap/IMMZCConceptMap",
      "name": "IMMZ_C_ConceptMap",
      "title": "ConceptMap to and from IMMZ.C DataElements",
      "status": "active",
      "experimental": false,
      "date": "2023-08-04",
      "description": "Mapping to and from IMMZ.C Data Dictionary to other codesystems.",
      "group": [ {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "target": "http://id.who.int/icd/release/11/mms",
        "element": [ {
          "code": "DE6",
          "target": [ {
            "code": "XX2UQ8",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE7",
          "target": [ {
            "code": "XX2V25",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE8",
          "target": [ {
            "code": "XX2PX3",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE9",
          "target": [ {
            "code": "XX45B7",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://id.who.int/icd/release/11/mms",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "element": [ {
          "code": "XX2UQ8",
          "target": [ {
            "code": "DE6",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "XX2V25",
          "target": [ {
            "code": "DE7",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "XX2PX3",
          "target": [ {
            "code": "DE8",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "XX45B7",
          "target": [ {
            "code": "DE9",
            "equivalence": "equivalent"
          } ]
        } ]
      }, {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "target": "http://loinc.org",
        "element": [ {
          "code": "DE2",
          "target": [ {
            "code": "54125-0",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE3",
          "target": [ {
            "code": "45392-8",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE4",
          "target": [ {
            "code": "45394-4",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE5",
          "target": [ {
            "code": "46098-0",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE10",
          "target": [ {
            "code": "21112-8",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE13",
          "target": [ {
            "code": "63900-5",
            "equivalence": "wider"
          } ]
        }, {
          "code": "DE18",
          "target": [ {
            "code": "42077-8",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE19",
          "target": [ {
            "code": "56799-0",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        } ]
      }, {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "target": "http://snomed.info/sct",
        "element": [ {
          "code": "DE2",
          "target": [ {
            "code": "371484003",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE3",
          "target": [ {
            "code": "184095009",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE4",
          "target": [ {
            "code": "184096005",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE5",
          "target": [ {
            "code": "184100006",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE6",
          "target": [ {
            "code": "248153007",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE7",
          "target": [ {
            "code": "248152002",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE8",
          "target": [ {
            "code": "772004004",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "DE9",
          "target": [ {
            "code": "15867007",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE10",
          "target": [ {
            "code": "184099003",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE14",
          "target": [ {
            "code": "184140000",
            "equivalence": "wider"
          } ]
        }, {
          "code": "DE15",
          "target": [ {
            "code": "184140000",
            "equivalence": "wider"
          } ]
        }, {
          "code": "DE18",
          "target": [ {
            "code": "184103008",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE19",
          "target": [ {
            "code": "184097001",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        } ]
      }, {
        "source": "http://snomed.info/sct",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "element": [ {
          "code": "248153007",
          "target": [ {
            "code": "DE6",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "248152002",
          "target": [ {
            "code": "DE7",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "772004004",
          "target": [ {
            "code": "DE8",
            "equivalence": "relatedto"
          } ]
        }, {
          "code": "15867007",
          "target": [ {
            "code": "DE9",
            "equivalence": "equivalent"
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ConceptMap/IMMZCConceptMap"
    }
  }, {
    "resource": {
      "resourceType": "ConceptMap",
      "id": "IMMZCSexToAdministrativeGender",
      "url": "http://smart.who.int/immunizations-measles/ConceptMap/IMMZCSexToAdministrativeGender",
      "name": "IMMZ_C_SexToAdministrativeGender",
      "title": "ConceptMap to and From IMMZ.C sex to administrative gender",
      "status": "active",
      "experimental": false,
      "date": "2023-08-09",
      "description": "Mapping to and from IMMZ.C sex coding to FHIR Administrative Gender.",
      "group": [ {
        "source": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "target": "http://hl7.org/fhir/administrative-gender",
        "element": [ {
          "code": "DE6",
          "target": [ {
            "code": "male",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE7",
          "target": [ {
            "code": "female",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE8",
          "target": [ {
            "code": "unknown",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "DE9",
          "target": [ {
            "code": "other",
            "equivalence": "wider"
          } ]
        } ]
      }, {
        "source": "http://hl7.org/fhir/administrative-gender",
        "target": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.C",
        "element": [ {
          "code": "male",
          "target": [ {
            "code": "DE6",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "female",
          "target": [ {
            "code": "DE7",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "unknown",
          "target": [ {
            "code": "DE8",
            "equivalence": "equivalent"
          } ]
        }, {
          "code": "other",
          "target": [ {
            "code": "DE9",
            "equivalence": "narrower",
            "comment": "The source concept is more specific than the target"
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ConceptMap/IMMZCSexToAdministrativeGender"
    }
  }, {
    "resource": {
      "resourceType": "StructureDefinition",
      "id": "SGVaccineProduct",
      "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct",
      "name": "SGVaccineProduct",
      "status": "draft",
      "description": "A Vaccine product",
      "fhirVersion": "4.0.1",
      "kind": "resource",
      "abstract": false,
      "type": "Medication",
      "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Medication",
      "derivation": "constraint",
      "differential": {
        "element": [ {
          "id": "Medication.extension",
          "path": "Medication.extension",
          "slicing": {
            "discriminator": [ {
              "type": "value",
              "path": "url"
            } ],
            "ordered": false,
            "rules": "open"
          }
        }, {
          "id": "Medication.extension:classification",
          "path": "Medication.extension",
          "sliceName": "classification",
          "min": 0,
          "max": "*",
          "type": [ {
            "code": "Extension",
            "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGMedicationClassification" ]
          } ],
          "mustSupport": true
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "StructureDefinition/SGVaccineProduct"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D4.QuestionnaireResponse.3",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZD4CheckContraindicationsMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P123456"
      },
      "authored": "2023-10-11",
      "item": [ {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE167",
            "display": "Severe allergic reactions"
          }
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.3"
    }
  }, {
    "resource": {
      "resourceType": "Medication",
      "id": "Vaccine-MSDMMRVaxPro",
      "meta": {
        "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProduct" ]
      },
      "extension": [ {
        "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGMedicationClassification",
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://id.who.int/icd/release/11/mms",
            "code": "XM8L15"
          } ]
        }
      }, {
        "url": "http://smart.who.int/immunizations-measles/StructureDefinition/SGMedicationClassification",
        "valueCodeableConcept": {
          "coding": [ {
            "system": "http://id.who.int/icd/release/11/mms",
            "code": "XM2340"
          } ]
        }
      } ],
      "code": {
        "coding": [ {
          "system": "http://smart.who.int/immunizations-measles/CodeSystem/VaccineProducts",
          "code": "7680007030014"
        } ]
      }
    },
    "request": {
      "method": "PUT",
      "url": "Medication/Vaccine-MSDMMRVaxPro"
    }
  }, {
    "resource": {
      "resourceType": "MedicationRequest",
      "id": "VaccineProposal1",
      "meta": {
        "profile": [ "http://smart.who.int/immunizations-measles/StructureDefinition/SGVaccineProposal" ]
      },
      "status": "active",
      "intent": "proposal",
      "medicationCodeableConcept": {
        "coding": [ {
          "system": "http://id.who.int/icd/release/11/mms",
          "code": "XM28X5"
        } ]
      },
      "subject": {
        "reference": "Patient/P123456"
      }
    },
    "request": {
      "method": "PUT",
      "url": "MedicationRequest/VaccineProposal1"
    }
  }, {
    "resource": {
      "resourceType": "QuestionnaireResponse",
      "id": "Example.IMMZ.D4.QuestionnaireResponse.2",
      "questionnaire": "http://smart.who.int/immunizations-measles/Questionnaire/QIMMZD4CheckContraindicationsMeasles",
      "status": "completed",
      "subject": {
        "reference": "Patient/P123456"
      },
      "authored": "2023-10-11",
      "item": [ {
        "linkId": "contraindications",
        "text": "Contraindications",
        "answer": [ {
          "valueCoding": {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/IMMZ.D4",
            "code": "DE165",
            "display": "Severely immunosuppressed"
          }
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "QuestionnaireResponse/Example.IMMZ.D4.QuestionnaireResponse.2"
    }
  }, {
    "resource": {
      "resourceType": "ActivityDefinition",
      "id": "IMMZD2DTMeaslesEval",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-servicerequestactivity" ]
      },
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
        "valueCode": "computable"
      } ],
      "url": "http://smart.who.int/immunizations-measles/ActivityDefinition/IMMZD2DTMeaslesEval",
      "version": "0.1.0",
      "name": "IMMZD2DTMeaslesContraindicationEvaluation",
      "title": "IMMZ.D2.DT.Measles.Eval",
      "status": "draft",
      "experimental": false,
      "date": "2023-10-03",
      "publisher": "World Health Organization (WHO)",
      "contact": [ {
        "telecom": [ {
          "system": "url",
          "value": "https://who.int"
        } ]
      } ],
      "description": "Provide measles immunization",
      "library": [ "http://smart.who.int/immunizations-measles/Library/IMMZD2DTMeaslesLogic" ],
      "kind": "ServiceRequest",
      "profile": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-servicerequest",
      "intent": "proposal",
      "doNotPerform": false,
      "dynamicValue": [ {
        "path": "code.coding",
        "expression": {
          "description": "Measles Code",
          "language": "text/cql",
          "expression": "Code { system: 'http://id.who.int/icd/release/11/mms', code: 'XM28X5' }"
        }
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "ActivityDefinition/IMMZD2DTMeaslesEval"
    }
  }, {
    "resource": {
      "resourceType": "Questionnaire",
      "id": "AdministerVaccine",
      "meta": {
        "profile": [ "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-extr-smap" ]
      },
      "language": "en",
      "contained": [ {
        "resourceType": "ValueSet",
        "id": "VSMeaslesVaccineProducts",
        "url": "http://smart.who.int/immunizations-measles/ValueSet/VSMeaslesVaccineProducts",
        "name": "VSMeaslesVaccineProducts",
        "title": "MeaslesVaccine Products ValueSet",
        "status": "draft",
        "description": "Vaccine Product Codes - representing the codes of the products currently available.",
        "compose": {
          "include": [ {
            "system": "http://smart.who.int/immunizations-measles/CodeSystem/VaccineProducts"
          } ]
        }
      }, {
        "resourceType": "ValueSet",
        "id": "SGImmunizationStatusCodes",
        "url": "http://smart.who.int/immunizations-measles/ValueSet/SGImmunizationStatusCodes",
        "name": "SGImmunizationStatusCodes",
        "title": "Immunization Status Codes",
        "status": "draft",
        "experimental": false,
        "description": "The value set to instantiate this attribute should be drawn from a terminologically robust code system that consists of or contains concepts to support describing the current status of the administered dose of vaccine.",
        "compose": {
          "include": [ {
            "system": "http://hl7.org/fhir/event-status",
            "concept": [ {
              "code": "completed"
            }, {
              "code": "entered-in-error"
            }, {
              "code": "not-done"
            } ]
          } ]
        }
      }, {
        "resourceType": "ValueSet",
        "id": "AllVaccineTypes",
        "url": "http://smart.who.int/immunizations-measles/ValueSet/AllVaccineTypes",
        "name": "AllVaccineTypes",
        "title": "Vaccine Type ValueSet",
        "status": "active",
        "experimental": false,
        "description": "Vaccine type Codes, containing the different types of antigens used in vaccine guidelines.",
        "compose": {
          "include": [ {
            "system": "http://id.who.int/icd/release/11/mms",
            "filter": [ {
              "property": "parent",
              "op": "=",
              "value": "XM28X5"
            } ]
          }, {
            "system": "http://id.who.int/icd/release/11/mms",
            "concept": [ {
              "code": "XM28X5"
            }, {
              "code": "XM1131"
            } ]
          }, {
            "system": "http://id.who.int/icd/release/11/mms",
            "filter": [ {
              "property": "parent",
              "op": "=",
              "value": "XM1131"
            } ]
          }, {
            "system": "http://loinc.org",
            "concept": [ {
              "code": "30940-1",
              "display": "Measles virus+Mumps virus+Rubella virus dose count in combination vaccine"
            } ]
          }, {
            "system": "http://snomed.info/sct",
            "concept": [ {
              "code": "836382004",
              "display": "Measles morbillivirus antigen-containing vaccine product"
            } ]
          } ]
        }
      } ],
      "extension": [ {
        "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext",
        "valueExpression": {
          "name": "encounter",
          "language": "application/x-fhir-query",
          "expression": "Encounter"
        }
      } ],
      "url": "http://smart.who.int/immunizations-measles/Questionnaire/AdministerVaccine",
      "version": "2023",
      "title": "Administer Vaccine",
      "status": "active",
      "subjectType": [ "Patient" ],
      "description": "Questionnaire for registering the events leading to and including the administration of a vaccine",
      "item": [ {
        "linkId": "3888885591343",
        "text": "Was consent given?",
        "type": "boolean",
        "required": true,
        "repeats": false,
        "readOnly": false
      }, {
        "linkId": "894262034915",
        "text": "Is stock available?",
        "type": "boolean",
        "required": true,
        "repeats": false,
        "readOnly": false
      }, {
        "linkId": "8599813785588",
        "text": "Administer Vaccine",
        "type": "group",
        "enableWhen": [ {
          "question": "3888885591343",
          "operator": "=",
          "answerBoolean": true
        }, {
          "question": "894262034915",
          "operator": "=",
          "answerBoolean": true
        } ],
        "enableBehavior": "all",
        "required": false,
        "repeats": false,
        "readOnly": true,
        "item": [ {
          "linkId": "status",
          "text": "Status",
          "type": "choice",
          "required": true,
          "repeats": false,
          "answerValueSet": "#SGImmunizationStatusCodes"
        }, {
          "linkId": "datetime",
          "text": "Date/Time",
          "type": "dateTime",
          "required": true,
          "repeats": false
        }, {
          "linkId": "vaccine-type",
          "text": "Vaccine Type",
          "type": "choice",
          "required": true,
          "repeats": false,
          "answerValueSet": "#AllVaccineTypes"
        }, {
          "linkId": "administered-product",
          "text": "Administered Product",
          "type": "group",
          "item": [ {
            "linkId": "product-code",
            "text": "Product Code",
            "type": "choice",
            "required": true,
            "repeats": false,
            "answerValueSet": "#VSMeaslesVaccineProducts"
          }, {
            "linkId": "product-lotnr",
            "text": "Lot or batch number",
            "type": "string",
            "required": false,
            "repeats": false
          }, {
            "linkId": "product-expirydate",
            "text": "Expiration date",
            "type": "string",
            "required": false,
            "repeats": false
          } ]
        } ]
      } ]
    },
    "request": {
      "method": "PUT",
      "url": "Questionnaire/AdministerVaccine"
    }
  } ]
}